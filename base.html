<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
     div.snippet1 {background-color:beige;}
     div.snippet2 {background-color:cornsilk;}
    </style>
    <script src="res/js/promise.min.js"></script>
    <script>
      var CURRENT_PAGE = "";
      function loader() {
        // extract view from location
        var view = location.search.substr(location.search.indexOf('?') + 1);
        if (view.length != 0) {
          console.log(' loader ' + view);
          promise.get('/content/' + view + '.html').then(function(error, text, xhr) {
            if (error) {// do nothing, stay on current view
                if (console) {
                  console.log('could not get view ' + view + '(' + xhr.status + ')');
                }
                return;
            }
            // successfully retrieved
            document.getElementById('cont').innerHTML = text;
          });  
        }
      }
    </script>
    
  </head>
  <body>
    <div id="cont"></div>
    <hr />
    <ul>
      <li><a href="base.html">just base</a></li>
      <li><a href="?">just search</a></li>
      <li><a href="?join_the_program">link1</a></li>
      <li><a href="?our_teachers">link2</a></li>
      <li><a href="?linky3">link3</a></li>
    </ul>
    <hr />
  
    <script>loader();</script>
  </body>
</html>
